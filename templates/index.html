{% extends "base.html" %}
{% block content %}
<main class="max-w-4xl mx-auto px-4 py-12">
    <div class="mb-10 p-4 bg-white border border-dashed border-gray-300 rounded-lg text-center text-gray-400 italic">AdSense Ads</div>

    <section class="bg-white rounded-3xl shadow-xl p-8 border border-gray-50">
        <textarea id="text" class="w-full h-56 p-5 bg-gray-50 border border-gray-200 rounded-2xl outline-none focus:ring-4 focus:ring-blue-100 text-lg resize-none" placeholder="Enter text (up to 2000 chars)... / –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
        
        <div class="mt-8 flex flex-col md:flex-row gap-4 items-end justify-between">
            <div class="w-full md:w-1/2">
                <label class="text-xs font-bold text-gray-400 uppercase mb-2 block">Language & Voice</label>
                <select id="voiceSelect" class="w-full p-3 bg-white border border-gray-200 rounded-xl outline-none shadow-sm">
                    <optgroup label="CIS / –°–ù–ì">
                        <option value="ru-RU-DmitryNeural">–†—É—Å—Å–∫–∏–π ‚Äî –î–º–∏—Ç—Ä–∏–π (Male)</option>
                        <option value="ru-RU-SvetlanaNeural">–†—É—Å—Å–∫–∏–π ‚Äî –°–≤–µ—Ç–ª–∞–Ω–∞ (Female)</option>
                        <option value="uk-UA-OstapNeural">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ ‚Äî –û—Å—Ç–∞–ø</option>
                        <option value="kk-KZ-DauletNeural">“ö–∞–∑–∞“õ—à–∞ ‚Äî –î–∞—É–ª–µ—Ç</option>
                    </optgroup>
                    <optgroup label="English">
                        <option value="en-US-AvaNeural">English (US) ‚Äî Ava (Female)</option>
                        <option value="en-US-GuyNeural">English (US) ‚Äî Guy (Male)</option>
                        <option value="en-GB-SoniaNeural">English (UK) ‚Äî Sonia</option>
                    </optgroup>
                    <optgroup label="Europe">
                        <option value="de-DE-KatjaNeural">Deutsch (Germany)</option>
                        <option value="fr-FR-DeniseNeural">Fran√ßais (France)</option>
                        <option value="es-ES-AlvaroNeural">Espa√±ol (Spain)</option>
                        <option value="it-IT-DiegoNeural">Italiano (Italy)</option>
                        <option value="pl-PL-MarekNeural">Polski (Poland)</option>
                    </optgroup>
                    <optgroup label="Asia">
                        <option value="zh-CN-YunxiNeural">Chinese (Mandarin)</option>
                        <option value="ja-JP-NanamiNeural">Japanese</option>
                        <option value="ko-KR-SunHiNeural">Korean</option>
                    </optgroup>
                </select>
            </div>
            <button onclick="generateAudio()" id="mainBtn" class="w-full md:w-auto px-12 py-4 bg-blue-600 text-white font-bold rounded-2xl hover:bg-blue-700 shadow-lg transition-all">Generate / –û–∑–≤—É—á–∏—Ç—å</button>
        </div>

        <div id="result" class="mt-10 pt-10 border-t hidden text-center">
            <audio id="player" controls class="w-full mb-6"></audio>
            <a id="download" href="#" class="inline-block px-10 py-4 bg-green-500 text-white rounded-2xl font-bold hover:bg-green-600 transition-all shadow-md">Prepare Download / –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é</a>
        </div>
    </section>

    <section class="mt-16 p-8 bg-white rounded-3xl border border-gray-100 text-center shadow-sm">
        <h3 class="text-2xl font-bold mb-2">Support the Project ‚òï</h3>
        <p class="text-gray-500 mb-8 text-sm">We provide this service for free. Your support helps keep our servers running.</p>
        <div class="flex flex-wrap justify-center gap-4">
            <a href="https://www.buymeacoffee.com/YOUR_NAME" target="_blank" class="px-6 py-3 bg-[#FFDD00] text-black font-bold rounded-xl hover:scale-105 transition-transform">‚òï Buy me a coffee</a>
            <a href="https://paypal.me/YOUR_NAME" target="_blank" class="px-6 py-3 bg-[#0070ba] text-white font-bold rounded-xl hover:scale-105 transition-transform">üíô PayPal</a>
            <button onclick="alert('BTC: your-address\nUSDT (TRC20): your-address')" class="px-6 py-3 bg-gray-900 text-white font-bold rounded-xl hover:scale-105 transition-transform">‚Çø Crypto</button>
        </div>
    </section>

    <section class="mt-24 mb-12">
    <div class="text-center mb-12">
        <h3 class="text-3xl font-extrabold text-gray-900 md:text-4xl">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
        <p class="text-gray-500 mt-4 text-lg">–ï—Å–ª–∏ —É –≤–∞—Å –æ—Å—Ç–∞–ª–∏—Å—å —Å–æ–º–Ω–µ–Ω–∏—è, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ—Ç–≤–µ—Ç –µ—Å—Ç—å –Ω–∏–∂–µ</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        
        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">üôå</span> –≠—Ç–æ –ø—Ä–∞–≤–¥–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏–ª–∏ –µ—Å—Ç—å –ø–æ–¥–≤–æ—Ö?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –ù–∏–∫–∞–∫–∏—Ö –ø–æ–¥–≤–æ—Ö–æ–≤. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å –±–µ–∑ –æ–≥—Ä–æ–º–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî —Å–¥–µ–ª–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ–∑–≤—É—á–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ–π –∫–∞–∂–¥–æ–º—É, –±—É–¥—å —Ç–æ —Å—Ç—É–¥–µ–Ω—Ç —Å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–µ–π –∏–ª–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–π –±–ª–æ–≥–µ—Ä.
            </p>
        </div>

        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">üìù</span> –ü–æ—á–µ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–º–µ–Ω–Ω–æ 2000 –∑–Ω–∞–∫–æ–≤?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –ú—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ —ç—Ç–æ—Ç –ª–∏–º–∏—Ç –æ–ø—ã—Ç–Ω—ã–º –ø—É—Ç–µ–º: –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–∑–≤—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–µ–∫—É–Ω–¥—ã, –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è—è –≤–∞—Å –∂–¥–∞—Ç—å ¬´–æ—á–µ—Ä–µ–¥–∏¬ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ï—Å–ª–∏ –≤–∞—à —Ç–µ–∫—Å—Ç –¥–ª–∏–Ω–Ω–µ–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–±–µ–π—Ç–µ –µ–≥–æ –Ω–∞ –ø–∞—Ä—É –∑–∞—Ö–æ–¥–æ–≤. –≠—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–µ –∑–∞–π–º–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
            </p>
        </div>

        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">üé¨</span> –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å –≤ –º–æ–∏—Ö –≤–∏–¥–µ–æ –Ω–∞ YouTube?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –ö–æ–Ω–µ—á–Ω–æ! –í—ã ‚Äî –ø–æ–ª–Ω–æ–ø—Ä–∞–≤–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞. –ì–æ–ª–æ—Å–∞ –∑–≤—É—á–∞—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –∑–∞–∫–∞–¥—Ä–æ–≤–æ–π –æ–∑–≤—É—á–∫–∏ —Ä–æ–ª–∏–∫–æ–≤, –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏–ª–∏ –¥–∞–∂–µ –∞—É–¥–∏–æ–∫–Ω–∏–≥.
            </p>
        </div>

        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">‚è≥</span> –ó–∞—á–µ–º –∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –≠—Ç–æ –≤—Ä–µ–º—è –Ω—É–∂–Ω–æ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ–±—ã –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ ¬´—Å–∫–ª–µ–∏—Ç—å¬ª —Ñ–∞–π–ª –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –µ–≥–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –≤ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –∑–∞ —Å—á–µ—Ç –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã, –ø–æ–∫–∞ –≤—ã –∂–¥–µ—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É.
            </p>
        </div>

        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">üîí</span> –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –º–æ–∏–º —Ç–µ–∫—Å—Ç–æ–º –ø–æ—Å–ª–µ –æ–∑–≤—É—á–∫–∏?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –ú—ã —É–≤–∞–∂–∞–µ–º –≤–∞—à—É –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å. –¢–µ–∫—Å—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∞ –≥–æ—Ç–æ–≤—ã–π –∞—É–¥–∏–æ—Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è —Å –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞. –ú—ã –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º —Å –æ–∑–≤—É—á–∫–æ–π, –∞ –Ω–µ —Å–æ–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
            </p>
        </div>

        <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-all">
            <h4 class="text-lg font-bold text-blue-600 mb-3 flex items-center">
                <span class="mr-2">üéôÔ∏è</span> –ü–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è –ª–∏ –Ω–æ–≤—ã–µ –≥–æ–ª–æ—Å–∞?
            </h4>
            <p class="text-gray-600 leading-relaxed">
                –î–∞, –º—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –º—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –º—É–∂—Å–∫–∏—Ö –∏ –∂–µ–Ω—Å–∫–∏—Ö —Ç–µ–º–±—Ä–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–∫—Ä–∞—Å–æ–∫ (—Ä–∞–¥–æ—Å—Ç—å, —Å—Ç—Ä–æ–≥–æ—Å—Ç—å, —à–µ–ø–æ—Ç).
            </p>
        </div>

    </div>
</section>
    <div class="mt-20 p-8 bg-white border border-dashed border-gray-300 rounded-lg text-center text-gray-400 text-sm italic">
        –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫ (AdSense Bottom)
    </div>
</main>

<script>
async function generateAudio() {
    const btn = document.getElementById('mainBtn');
    const text = document.getElementById('text').value;
    const lang = document.getElementById('lang').value;
    
    if(!text) return alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç");

    btn.disabled = true;
    btn.innerHTML = `<span class="animate-pulse">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>`;

    try {
        const response = await fetch('/api/generate', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({text, lang})
        });
        const data = await response.json();
        
        if(data.audio_url) {
            const player = document.getElementById('player');
            player.src = data.audio_url;
            document.getElementById('download').href = data.audio_url;
            document.getElementById('result').classList.remove('hidden');
            player.play();
        }
    } catch (e) {
        alert("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
    } finally {
        btn.disabled = false;
        btn.innerText = "–û–∑–≤—É—á–∏—Ç—å —Å–µ–π—á–∞—Å";
    }
}
</script>
{% endblock %}



